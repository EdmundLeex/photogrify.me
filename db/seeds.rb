SF_NORTH = 37.80761093884952
SF_SOUTH = 37.70799502080717
SF_EAST = -122.38071208953858
SF_WEST = -122.51529460906983

img_urls = [
	"http://sanfranciscodeluxetours.com/images/sfdeluxe-gal-img-51.jpg",
	"http://wallpaperput.com/wp-content/uploads/2014/11/landscape-beautiful-san-francisco-at-night-wallpaper.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/7/7f/America's_Greatest_City_By_The_Bay_at_Union_Square,_San_Francisco,_CA.jpg",
	"http://www.super8sanfrancisco.com/blog/wp-content/uploads/2015/03/San-Francisco-Cable-Cars.jpg",
	"http://tobyharriman.com/wordpress/wp-content/uploads/2014/08/Different_Perspectives_of_SF.jpg",
	"http://www.landscape-photo.net/albums/userpics/10001/The-Cable-Car-in-San-Francisco-streets.jpg",
	"http://ww1.hdnux.com/photos/32/42/42/6957232/9/rawImage.jpg",
	"http://www.heleninwonderlust.co.uk/wp-content/uploads/2014/03/Street-Art-Chinatown-San-Francisco.jpg",
	"http://cdn.thebolditalic.com/e=resrcit_cdn_origin/s=h1000,pd1/o=85/http://cdn.thebolditalic.com/paperclip/articles/6736/hero_images/original/aahero.jpg?1422477676",
	"http://archiengi.com/wp-content/uploads/2014/09/Sand-Art-at-San-Francisco-By-A-4.jpg",
	"http://kevinchin.intothedarkroom.me/wp-3032DLTQLX/wp-content/uploads/v1site_images/2014/06/Diana_Kee_WED_0527.jpg",
	"https://trashmashup.files.wordpress.com/2013/05/tmu2.jpg",
	"http://kevinwarnock.com/wp-content/uploads/2012/10/Aaron-Bray-owner-of-PushPullArtDesign-dot-com-October-20-2012-Lower-Haight-Urban-Air-Market-San-Francisco.jpg",
	"http://www.enjoyourholiday.com/wp-content/uploads/2013/10/San-Francisco-Tramline.jpg",
	"https://c1.staticflickr.com/3/2856/9681774337_75bc6c7d2e_b.jpg",
	"http://screen-wallpapers.com/wallpapers/4138/San-Francisco,%20USA.jpg",
	"http://7-themes.com/data_images/out/42/6913573-san-francisco-skyline.jpg",
	"http://www.mrwallpaper.com/wallpapers/san-francisco-hd.jpg",
	"http://stockarch.com/files/12/06/san_francisco_city_skyline.jpg",
	"http://www.dpem.com/wp-content/uploads/2014/05/1323_m_0771.jpg",
	"http://www.themarkeworld.com/wp-content/uploads/2013/03/Treasure-in-the-clouds.jpg",
	"http://static.onemansblog.com/wp-content/uploads/2015/02/San-Fran-Street-Artist2.jpg",
	"http://www.dailyemerald.com/wp-content/uploads/2013/08/20130824.as_.AesopRock.823.jpg",
	# here up is sf
	"http://theinfotravel.com/wp-content/uploads/2015/06/Weekend-in-San-Francisco5.jpg",
	"http://i.ytimg.com/vi/zUTghc0rUoQ/maxresdefault.jpg",
	"http://i.ytimg.com/vi/Cw_JEa9xDKk/maxresdefault.jpg",
	"https://drscdn.500px.org/photo/40219914/m%3D2048/80e49bc1c0c154e362841b8039e87bb0",
	"http://i.imgur.com/7C8Ott0.jpg",
	# here up sf pier
	"http://impressivemagazine.com/wp-content/uploads/2014/01/national_parks_yosemite.jpg",
	"http://7-themes.com/data_images/out/41/6908219-yosemite-falls-rainbow.jpg",
	"http://www.yosemitepark.com/Images/Fall_Medow_M-1.jpg",
	"https://9to5mac.files.wordpress.com/2014/08/yosemite-3.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/a/a3/Yosemite_Valley-13.jpg",
	"http://i.huffpost.com/gen/1655993/images/o-YOSEMITE-TIME-LAPSE-facebook.jpg",
	"https://mbccmb.files.wordpress.com/2014/11/tioga_pass.jpg",
	"http://i.ytimg.com/vi/Q5wLyFvm4AY/maxresdefault.jpg",
	"http://static1.squarespace.com/static/52e77ab3e4b0a4877ee01abd/t/530b8811e4b0dd985a47773a/1393264664531/IMG_7161.jpg?format=1500w",
	# here up yosemite
	"http://vignette4.wikia.nocookie.net/olympians/images/b/b1/LA.jpeg/revision/latest?cb=20150303212850",
	"http://alumni.virginia.edu/uvaclubs/wp-content/uploads/sites/15/2013/04/Los-Angeles.jpg",
	"http://www.peakperformancetours.com/wp-content/uploads/2015/08/LAX.jpg",
	"http://miriadna.com/desctopwalls/images/max/Los-Angeles-beach-at-night.jpg",
	"https://wallpaperscraft.com/image/walt_disney_concert_hall_los_angeles_california_usa_hdr_47907_1920x1080.jpg",
	"http://www.trbimg.com/img-55ca703b/turbine/mc-nfl-owners-meetings-los-angeles-20150811",
	"http://www.trbimg.com/img-53462dc4/turbine/la-1826434-me-adv-ports-air-2-brv-jpg-20140409/2000/2000x1333",
	"https://media.timeout.com/images/100559497/image.jpg",
	"http://www.jefflewisphotography.com/data/photos/224_1ryan_hollins_los_angeles_clippers_018.jpg",
	# here up LA
	"https://upload.wikimedia.org/wikipedia/commons/e/e7/Las_Vegas_89.jpg",
	"http://static4.businessinsider.com/image/53af22106bb3f710764de86b/why-las-vegas-is-the-best-city-for-women-in-tech.jpg",
	"http://thrivelasvegas.com/wp-content/uploads/2015/08/vegas.jpg",
	"http://lajewishguide.com/wp-content/uploads/2015/03/las_vegas.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/8/87/Las_Vegas_at_Night.JPG",
	"http://www.casinoroyalehotel.com/_images/_gallery/photo_07_lg.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/f/fd/Torre_Eiffel_(Las_Vegas).jpg",
	"https://media.timeout.com/images/101516241/image.jpg",
	"http://7-themes.com/data_images/out/59/6973652-las-vegas-boulevard.jpg",
	"http://img0.mxstatic.com/wallpapers/fd1314aa4ad3b79466fb563b72b57b54_large.jpeg",
	"http://blog.davidgiralphoto.com/wp-content/uploads/2014/02/editorial-travel-las-vegas-skyline-strip-TheHotel-Mix-Lounge-View004.jpg",
	"https://d12oemfd9cl6ha.cloudfront.net/i/client_uploads/228/A6BE2BD9-AF86-4A6D-BD42-0B9EBC29E7A3.jpg?w=2048&h=2048&crop_mode=fit&v=2",
	# here up Las Vegas
	"http://horseshoebend.com/wp-content/uploads/2012/11/winter-horseshoe_pan3.jpg",
	"http://www.visitsouthernutah.com/media/north-rim-wotons-throne-cape-royal-shutterstock.jpg",
	"http://images.boomsbeat.com/data/images/full/653/26-jpg.jpg",
	"http://cdn.wall88.com/519d11e7e0e9c14847.jpg",
	"http://canadiansf.info/wp-content/uploads/2013/09/arizona-grand-canyon-hd-wallpaper-1080p.jpg",
	"http://img0.mxstatic.com/wallpapers/c0489c920ab766d129424bc357ce7431_large.jpeg",
	"http://fullhdpictures.com/wp-content/uploads/2015/04/Amazing-Grand-Canyon-Wallpapers.jpg",
	"https://karljames.files.wordpress.com/2010/08/antelope_canyon_2.jpg",
	"http://photogram.in/images/Grand_Canyon_of_the_Colorado-MAC_OS_X_Mountain_Lion_HD_Wallpapers_2560x1600.jpg",
	"http://img0.mxstatic.com/wallpapers/8ebccd1928aa79f595c0b23cc828942e_large.jpeg",
	"http://o.aolcdn.com/hss/storage/mqdiscover/a3fdfa04819bbcc87f794a7e7257918",
	"http://fullhdpictures.com/wp-content/uploads/2015/04/Nice-Grand-Canyon-Wallpapers.jpg",
	"http://graylinelasvegas.com/files/1114/2904/3609/las-02SS-grand-canyon-west-rim-skywalk-5.jpg",
	"http://i.imgur.com/JboMcNY.jpg",
	"http://www.fingerwind.com/wp-content/uploads/grand-canyon-compressor.jpg",
	# here up grand canyon
	"http://poison5.com/wp-content/uploads/2014/08/Breathtaking-Image-of-Siberia%E2%80%99s-Lake-Baikal-with-Turquise-Cracks-Formed-in-the-Spring.jpg",
	"http://data.hdwallpapers.im/breathtaking_lake_hdr.jpg",
	"http://image.desk7.net/Landscape%20Wallpapers/11300_1280x800.jpg",
	"http://img00.deviantart.net/b4b0/i/2010/262/0/d/breathtaking_view_by_uniquecreativity-d2yzabl.jpg",
	"http://i.imgur.com/bG3G8Mg.jpg",
	"http://image.desk7.net/Landscape%20Wallpapers/11310_1280x800.jpg",
	"http://media.salon.com/2014/06/39_Stephan_Tuengler_Germany_-_Stretching1-1280x960.jpg",
	"http://worldalldetails.com/article_image/breathtaking_landscapes_holiday_938207.jpg",
	"http://4.bp.blogspot.com/-wYOUgXOq82w/VegPGT1FGjI/AAAAAAAAfDU/x_SHaFhs7_g/s1600/Perito%2BMoreno%2BGlacier%2B-%2BBreathtaking%2BImages%2BThat%2BProve%2BYou%25E2%2580%2599ve%2BGot%2Bto%2BVisit%2BPatagonia.jpg",
	"http://www.myphotodump.com/content/uploads/2014/12/a-breathtaking-aerial-view-of-new-york-2200x1040.jpg",
	"http://www.thepinnaclelist.com/wp-content/uploads/2014/03/1-Are-Resort-in-Sweden-Breathtaking-Snowfall-on-the-Areskutan-Mountain-Ski-Lift-The-Pinnacle-List.jpg",
	"http://cdn.myfancyhouse.com/wp-content/uploads/2015/04/Breathtaking-Chiltern-House-In-Singapore-8.jpg",
	"http://s3-ec.buzzfed.com/static/2014-11/5/15/enhanced/webdr07/longform-original-19049-1415217898-6.jpg",
	"http://i.imgur.com/7FaqWDb.jpg",
	"http://cottagelife.com/files/2014/10/Jeff-Bartlet-Dark-Skies-6.jpg",
	"http://cloudmind.info/wp-content/uploads/2014/12/Xbreathtaking-sights9-Scotland-Its-a-rare-sight-but-when-visible-the-sky-in-Caithness-is-From-the-jaw-dropping-particle-collisions-of-the-Northern-Lights-in.jpg",
	"http://blogs.timesofindia.indiatimes.com/wp-content/uploads/2014/10/6.jpg",
	"http://blog.ideales.gr/wp-content/uploads/MARINA-BAY-SANDS-HOTEL-SINGAPORE-51.jpg",
	"http://www.alexandrajunn.com/wp-content/uploads/2015/06/File-Jul-05-9-17-51-PM.png",
	"http://general-contractor.co/wp-content/uploads/2015/10/unique-picture-10-most-beautiful-places-in-the-world-that-actually-exist-12-10-most-beautiful-places-in-the-world-that-actually-exist-10-most.jpg",
	"http://i.ytimg.com/vi/nFdBNJsW46Y/maxresdefault.jpg",
	"http://veryviral.com/wp-content/uploads/2014/05/tss_1399033128_3.jpg",
	"http://www.travelycia.com/wp-content/uploads/2013/02/2UqKp.jpg",
	"http://i.ytimg.com/vi/e6Bcu68yhV0/maxresdefault.jpg",
	"http://whenonearth.net/wp-content/uploads/2015/09/Santorini-Greece-10.jpg",
	"http://paowmagazine.com/wp-content/uploads/2014/01/sandbar.jpg",
	"http://i.ytimg.com/vi/m3cswXgTpE4/maxresdefault.jpg",
	"http://i.ytimg.com/vi/zykJ1p8zvp0/maxresdefault.jpg",
	"http://www.bestamazingplacesonearth.com/wp-content/uploads/2014/09/Reine-Norway2.jpg",
	"http://static2.businessinsider.com/image/557071636da811a73fd14be2-1200/10-hong-kong-china-866-million-international-visitors.jpg",
	"http://peacefulwarriors.net/wp-content/uploads/2015/09/15.jpg",
	"http://images2.fanpop.com/images/photos/5700000/USA-national-parks-usa-national-parks-5795968-1600-1200.jpg",
	"http://www.1000lonelyplaces.com/wp-content/uploads/2011/10/Clear-waters-in-the-national-park.jpg",
	"http://d1jrw5jterzxwu.cloudfront.net/sites/default/files/uploads/2011/04/Golden-Waters-Great-Smoky-Mountains-National-Park-Tennessee.jpeg",
	"http://static.thousandwonders.net/Glacier.Bay.National.Park.and.Preserve.original.1320.jpg",
	"http://www.breathtaking-places.com/wp-content/uploads/2014/09/Iguaz%C3%BA-National-Park-is-the-most-beautiful-waterfall-where-you-should-go-to-visit-in-Argentina.1.jpg",
	"http://planetden.com/wp-content/uploads/2014/03/Triglav-National-Park-Waterfall.jpg",
	"http://albanykid.com/wp-content/uploads/2012/04/Gull-Glacier-at-Tanquary-Fiord-opposite-to-Parks-Canada-campsite-Quttinirpaaq-National-Park.jpg",
	# breadthtaking photos
	"http://i.kinja-img.com/gawker-media/image/upload/jhveeytnicbaekstrb5s.png",
	"https://static.pexels.com/photos/6550/nature-sky-sunset-man.jpeg",
	"https://static.pexels.com/photos/6495/landscape-mountains-nature-trees.jpeg",
	"https://farm6.staticflickr.com/5548/11874722676_6450fcb8ba_b.jpg",
	"https://c1.staticflickr.com/1/48/133364703_5ad410ea7a_b.jpg",
	"https://picload.files.wordpress.com/2012/10/seljalandsfoss-falls-in-iceland.jpg",
]
debugger

def get_imgs_from_cloudinary
	public_ids = Cloudinary::Api.resources(
		type: :upload,
		cloud_name: ENV['cloud_name'],
		api_key: ENV['api_key'],
		api_secret: ENV['api_secret']
	)['resources'][1..-1]
	public_ids
end

User.destroy_all

u1 = User.create(username: 'demo', password: 'secret')
u2 = User.create(username: 'guest', password: 'secret')
u3 = User.create(username: 'demo_account', password: 'secret')
u4 = User.create(username: 'guest_account', password: 'secret')
u5 = User.create(username: 'explorer', password: 'secret')

Album.destroy_all

Album.create(title: 'Demo Album1', description: 'Demo description', user: u1)
Album.create(title: 'Demo Album2', description: '', user: u1)
Album.create(title: 'Demo Album3', description: 'description', user: u1)

Album.create(title: 'Demo Album1', description: 'Demo description', user: u1)
Album.create(title: 'Demo Album2', description: '', user: u1)
Album.create(title: 'Demo Album3', description: 'description', user: u1)

Album.create(title: 'Demo Album1', description: 'Demo description', user: u2)
Album.create(title: 'Demo Album2', description: '', user: u2)
Album.create(title: 'Demo Album3', description: 'description', user: u2)

Album.create(title: 'Demo Album1', description: 'Demo description', user: u3)
Album.create(title: 'Demo Album2', description: '', user: u3)
Album.create(title: 'Demo Album3', description: 'description', user: u3)

Album.create(title: 'Demo Album1', description: 'Demo description', user: u4)
Album.create(title: 'Demo Album2', description: '', user: u4)
Album.create(title: 'Demo Album3', description: 'description', user: u4)

Album.create(title: 'Demo Album1', description: 'Demo description', user: u5)
Album.create(title: 'Demo Album2', description: '', user: u5)
Album.create(title: 'Demo Album3', description: 'description', user: u5)

seed_imgs = []
failed_imgs = {}

if Rails.env == 'production'
	begin
		Rake::Task['cloudinary:destroy_all'].invoke
	rescue
		retry
	end

	puts "Uploading to Cloudinary:"
	img_urls.each do |url|
		begin
			seed_imgs << Cloudinary::Uploader.upload(url, cloud_name: ENV['cloud_name'],
																										public_id: ENV['public_id'],
																										api_key: ENV['api_key'],
																										api_secret: ENV['api_secret'])
		rescue CloudinaryException => e
			failed_imgs[url] = e
			next
		end
		print "."
	end
	print "\n"
	puts "Upload finished."
else
	seed_imgs = get_imgs_from_cloudinary
end

puts "Persisting Cloudinary urls to database"

Picture.destroy_all
seed_imgs.each do |img|
	Album.first.pictures.create(
		picture_url: img['url'],
		public_id: img['public_id'],
		latitude: rand(SF_SOUTH..SF_NORTH),
		longitude: rand(SF_WEST..SF_EAST)
	)
	print "."
end
print "\n"

Album.first.update(cover_picture_url: seed_imgs[0]['url'])


puts "=" * 40
puts "#{failed_imgs.size} file(s) failed to be uploaded."
puts "-" * 40
puts "Upload failed images:"
failed_imgs.each do |url, error|
	puts "- " + url
	puts "  " + error.to_s
end
puts "=" * 40